<!DOCTYPE html>
<html>
<head>
 	<meta charset="utf-8">
	<title>Flex TopBar</title>
	<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
	<style type="text/css">
	*{margin:0;padding:0;}
	a{text-decoration:none;}
	ul{list-style: none}
	#container{
		height:1000px;
	}
	#topbar{
		position: fixed;
		top:0;
		left:0;
		display:flex;
		align-items:center;
		width:100%;
		height:70px;
		box-shadow: 0 0 1px 1px rgba(0,0,0,0.3);
		transition:height 0.3s;
	}
	#topbar #logo{
		width:40px;
		height:40px;
		border:1px solid #000;
		margin:0 20px;
	}
	#topbar ul{
		flex:1;
		display:flex;
		justify-content:space-around;
	}
	</style>
</head>
<body>
	<div id="container">
		<div id="topbar">
			<div id="logo">
				<img src="">
			</div>
			<ul>
				<li>首页</li>
				<li>关于</li>
				<li>T-show</li>
				<li>订单追踪</li>
			</ul>
		</div>
	</div>
</body>
<script type="text/javascript">
	window.onload=function(){
		var imgArr=[],
			n=1,
			tempScrollTop=0;
		var viewHeight = document.documentElement.clientHeight,
			topbar = document.getElementById('topbar');
		function throttle(method, context) {
		     clearTimeout(method.tId);
		     method.tId = setTimeout(function(){
		         method.call(context);
		     }, 400);
		}
		function foo(){
			var current_top=document.body.scrollTop;
			if(current_top>tempScrollTop){
				console.log('pull down');
				tempScrollTop=current_top;
				transform(70,200);
			}else{
				console.log('pull up');
				tempScrollTop=current_top;
				transform(40,200);
			}
		}
		function transform(height,delay){
			setTimeout(function(){
				topbar.style.height=height+'px';
			},delay)
		}
		window.onscroll=function(){
			throttle(foo,200);
		}
	}
</script>
</html>